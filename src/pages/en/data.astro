---
import { twMerge } from 'tailwind-merge';
import AnchorLink from '../../components/AnchorLink.astro';
import ChildPageContainer from '../../components/ChildPageContainer.astro';
import License from '../../components/License.astro';
import { allData } from '../../contents/data_en';
import Layout from '../../layouts/Layout.astro';

const title = 'References and Download';
---

<Layout title={title + ' | Learning about Copyright from the Basics'} isEn>
  <ChildPageContainer title={title} hideH1={true}>
    <div class="flex flex-wrap justify-start gap-3 gap-y-1 lg:gap-4">
      <AnchorLink href="#scenario">References</AnchorLink>
      <AnchorLink href="#video">Download</AnchorLink>
    </div>
    <section class="grid gap-6 md:gap-10">
      <h2
        id="scenario"
        class="border-b-2 border-sky-400 pb-4 !text-2xl/normal font-bold lg:!text-[2rem]"
      >
        References
      </h2>
      <div class="grid gap-4 rounded-2xl bg-neutral-100 p-6">
        <License
          excludeNd
          align="right"
          reverse
          className="grid place-content-center"
          isEn
        />
        <p>
          The PDF files (scenarios and related materials) and pptx files
          (commentary slides) on this page are provided under CC BY 4.0. Please
          display the credit “Learning Copyright from the Basics/AXIES/CC BY
          4.0” when using the scenarios, commentary slides, and related
          materials. The video is available under CC BY-ND 4.0.
        </p>
      </div>
      <div class="grid">
        {
          allData.map(({ id, title, documents }, i) => {
            return documents.length === 0 ? null : (
              <div
                class={twMerge(
                  i % 2 === 0 ? 'bg-neutral-100 md:bg-neutral-50' : 'bg-white',
                  'flex flex-col gap-0 p-4 md:flex-row md:gap-4'
                )}
              >
                <div class="-mt-px flex gap-1 font-barlow text-xs/tight md:min-w-[3.3125rem]">
                  <div class="md:py-[0.40625rem]">
                    STORY
                    <span>{id.toString().padStart(2, '0')}</span>
                  </div>
                </div>
                <div class="flex flex-col gap-2 md:gap-2">
                  <div class="md:flex">
                    <h3 class="text-sm/snug font-bold md:text-lg">{title}</h3>
                  </div>
                  <div class="flex flex-col flex-wrap gap-2 md:flex-row md:gap-6 md:gap-y-2">
                    {documents.map(({ label = 'Scenario', filename }) => (
                      <a
                        class="w-fit rounded-sm border-b border-neutral-400 leading-relaxed text-neutral-600 outline-none hover:opacity-75 focus-visible:border-transparent focus-visible:ring-1 focus-visible:ring-sky-500"
                        target="_blank"
                        rel="noreferrer noopener"
                        href={`/assets/pdf/${filename}`}
                      >
                        {label}
                      </a>
                    ))}
                  </div>
                </div>
              </div>
            );
          })
        }
      </div>
    </section>
    <section class="grid gap-6 md:gap-10">
      <h2
        id="video"
        class="border-b-2 border-sky-400 pb-4 !text-2xl/normal font-bold lg:!text-[2rem]"
      >
        Download
      </h2>
      <div class="grid gap-4 rounded-2xl bg-neutral-100 p-6">
        <License
          align="right"
          reverse
          className="grid place-content-center"
          isEn
        />
        <p>
          Please use the video with the credit “Learning about Copyright from
          the Basics / AXIES / CC BY-ND 4.0” with NoDerivatives.
        </p>
      </div>
      <div class="grid">
        <div class="flex flex-col gap-0 bg-neutral-50 p-4 md:flex-row md:gap-4">
          <div class="flex flex-col gap-2 md:gap-2">
            <div class="md:flex">
              <h3 class="text-sm/snug font-bold md:text-lg">
                Bulk download (All videos)
              </h3>
            </div>
            <div class="flex flex-col gap-2 md:flex-row md:gap-6">
              <a
                class="w-fit rounded-sm border-b border-neutral-400 leading-relaxed text-neutral-600 outline-none hover:opacity-75 focus-visible:border-transparent focus-visible:ring-1 focus-visible:ring-sky-500"
                target="_blank"
                rel="noreferrer noopener"
                href="https://copyright-edu.axies.jp/video/clips/alldata2024.zip"
              >
                Download
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </ChildPageContainer>
</Layout>
