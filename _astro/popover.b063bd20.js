const T=(c,a)=>{const i=document.querySelector(c),o=document.querySelector(a),f=o.querySelectorAll(".js-toc-close-trigger"),l=["!opacity-100","!visible","!translate-y-0"];let s=!1;const p=e=>{const t=e.toString();o.setAttribute("aria-expanded",t),i.setAttribute("aria-expanded",t)},d=e=>{e!==s&&(p(e),s=e)},y=()=>{o.classList.add(...l)},b=()=>{o.classList.remove(...l)},g=()=>{y(),d(!0)},r=()=>{b(),d(!1)},k=()=>{const e=o.querySelectorAll("a"),t=e[0],u=e[e.length-1];t.addEventListener("transitionend",()=>{t.focus()},{once:!0}),t.addEventListener("keydown",n=>{n.key!=="Tab"||!n.shiftKey||(n.preventDefault(),u.focus())}),u.addEventListener("keydown",n=>{n.key!=="Tab"||n.shiftKey||(n.preventDefault(),t.focus())})},E=()=>{s?r():(g(),k())},v=()=>{s&&r()},L=({target:e})=>{!s||e.closest(`${c}, ${a}`)||r()},C=e=>{!s||e.key!=="Escape"||(e.preventDefault(),r())};i.addEventListener("click",E),f.forEach(e=>{e.addEventListener("click",v)}),document.addEventListener("click",L),window.addEventListener("keydown",C)};export{T as p};
